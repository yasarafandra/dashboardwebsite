(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1212:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(302),l=a.n(o),i=a(1205),c=a(127),s=a(15),m=a(4),u=a.n(m),p=a(71),d=a.n(p),f=a(426),h=a.n(f),g=a(78),b=a.n(g),y=a(289),v=a.n(y),E=a(101),w=a.n(E),N=a(1206),S=a.n(N),C=a(1224),x=a(1223),k=a.n(x);function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){return!t||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var H=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=O(this,W(t).call(this,e))).onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex;a.setState(function(e){var a=e.images;return{images:k()(a,t,n)}},function(){var e={fileUpdate:a.state.images,id:a.state.id},t=c.reactLocalStorage.get("auth"),n="Bearer ".concat(t);l.a.put("http://13.229.249.101/dashboard/api/category/upload/edit",e,{headers:{Authorization:n}}).then(function(e){}).catch(function(e){console.log(e)})})},a.remove=function(e){var t=a.state.images;t.splice(e,1),a.setState({images:t},function(){var e={fileUpdate:a.state.images,id:a.state.id},t=c.reactLocalStorage.get("auth"),n="Bearer ".concat(t);l.a.put("http://13.229.249.101/dashboard/api/category/upload/edit",e,{headers:{Authorization:n}}).then(function(e){window.location.href="#/admin/categoryedit/"+a.state.id}).catch(function(e){console.log(e)})})},a.state={images:[],id:a.props.idcategory},a}var a,n,o;return a=t,(n=[{key:"componentDidUpdate",value:function(e){e.image!==this.props.image&&this.setState({images:this.props.image,id:this.props.idcategory})}},{key:"render",value:function(){var e=this,t=Object(C.SortableElement)(function(e){var t=e.value;return r.a.createElement("div",{className:"list-group-item"},r.a.createElement("img",{alt:"",src:"http://13.229.249.101/dashboard/api/web/uploads/category/"+t,className:"w-100"})," ")}),a=Object(C.SortableContainer)(function(a){var n=a.images;return r.a.createElement("div",{className:"row"},n.map(function(a,n){return r.a.createElement("div",{key:"item-".concat(n),className:"col-md-2 col-4 p-2"},r.a.createElement(t,{index:n,value:a}),r.a.createElement("a",{href:"javascript:void(0)",className:"float-right position-absolute mt-0 close-btn",onClick:function(){return e.remove(n)}},r.a.createElement("i",{className:"nav-icon material-icons"},"close")))}))});return r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Image Category")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(a,{images:this.state.images,onSortEnd:this.onSortEnd,axis:"xy"})))))}}])&&P(a.prototype,n),o&&P(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");j(e.prototype,t&&t.prototype),t&&j(e,t)}(t,e),t}(n.Component),F=a(1201),T=a.n(F),I=a(75),z=a.n(I);function D(e){return(D="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e){return(U=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var J=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=U(t).call(this,e),(a=!r||"object"!==D(r)&&"function"!==typeof r?L(n):r).submitHandler=function(e){if(""!=a.state.files&&void 0!=a.state.files&&null!=a.state.files){var t={file:a.state.files,id:a.state.id},n=c.reactLocalStorage.get("auth"),r="Bearer ".concat(n);l.a.post("http://13.229.249.101/dashboard/api/category/upload/new",t,{headers:{Authorization:r}}).then(function(e){"OK"===e.statusText&&a.categoryHandle()}).catch(function(e){console.log(e)})}e.preventDefault()},a.categoryHandle=function(){var e=a.props.idcategory,t=c.reactLocalStorage.get("auth"),n="Bearer ".concat(t);l.a.get("http://13.229.249.101/dashboard/api/category/view/"+e,{headers:{Authorization:n}}).then(function(e){var t=e.data;a.setState({brand:t.brandId,group:t.groupQty,name:t.name,description:t.description,color:t.color,cartoon:t.cartoon,pack:t.pack,mill:t.mill,class:t.class,descriptionweb:t.descriptionWeb,tagweb:t.tagWeb,priceweb:t.priceWeb,imageweb:t.imageWeb})}).catch(function(e){console.log("error "+e)})},a.state={files:"",id:a.props.idcategory,categoryid:a.props.idcategory,imageweb:[],textalert:"",titlealert:"",show:!1},a.categoryHandle=a.categoryHandle.bind(L(L(a))),a.categoryHandle(),a}var a,n,o;return a=t,(n=[{key:"getFiles",value:function(e){if(console.log(e),"image/jpeg"==e.type){var t=e.base64,a=document.createElement("img");a.setAttribute("src",t),setTimeout(function(){250==a.height&&250==a.width?this.setState({files:e.base64}):(this.setState({show:!0,titlealert:"Image Size Failed",textalert:"Image Size 250px X 250px"}),z()("input[type='file']").val(""))}.bind(this),0)}else this.setState({show:!0,titlealert:"Image Type Failed",textalert:"Image Type Must .Jpg"})}},{key:"componentDidUpdate",value:function(e){e.idcategory!==this.props.idcategory&&(this.setState({id:this.props.idcategory}),this.categoryHandle())}},{key:"render",value:function(){var e=this,t=this.state.categoryid,a=this.state.imageweb;return r.a.createElement("div",null,r.a.createElement(T.a,{show:this.state.show,title:this.state.titlealert,text:this.state.textalert,onConfirm:function(){return e.setState({show:!1,titlealert:"",textalert:""})}}),r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Upload Image Category")),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Upload Image"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(S.a,{multiple:!1,onDone:this.getFiles.bind(this)}),r.a.createElement("br",null),r.a.createElement("small",null,"Image Size 200px X 200px"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(u.a,{variant:"contained",className:"btn-w-md",type:"submit"}," Upload ")))))),r.a.createElement(H,{idcategory:t,image:a}))}}])&&A(a.prototype,n),o&&A(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");B(e.prototype,t&&t.prototype),t&&B(e,t)}(t,e),t}(n.Component);function M(e){return(M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e){return(X=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var G=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=X(t).call(this,e),(a=!r||"object"!==M(r)&&"function"!==typeof r?q(n):r).loadHandler=function(){l.a.get("http://13.229.249.101/dashboard/api/userapi/product/view/webnew/category/"+a.props.idcategory,{headers:{"Content-Type":"application/json"}}).then(function(e){var t=[],n=e.data;Object.keys(n).map(function(e){t.push(e)}),a.setState({color:t})})},a.submitHandler=function(e){return function(t){if(""!=a.state.file&&void 0!=a.state.file&&null!=a.state.file){var n={file:a.state.file,warna:e},r=c.reactLocalStorage.get("auth"),o="Bearer ".concat(r);l.a.post("http://13.229.249.101/dashboard/api/category/upload/color/new",n,{headers:{Authorization:o}}).then(function(t){200==t.status&&(a.loadHandler(),console.log(e),z()("."+e).find("img").attr("src",a.state.file))}).catch(function(e){console.log(e)})}t.preventDefault()}},a.state={id:a.props.idcategory,color:[],file:[]},a.loadHandler=a.loadHandler.bind(q(q(a))),a.loadHandler(),a}var a,n,o;return a=t,(n=[{key:"componentDidUpdate",value:function(e){e.idcategory===this.props.idcategory&&void 0!==e.idcategory||(this.setState({id:this.props.idcategory}),this.loadHandler())}},{key:"getFiles",value:function(e){if("image/jpeg"==e.type){var t=e.base64,a=document.createElement("img");a.setAttribute("src",t),setTimeout(function(){200==a.height&&200==a.width?this.setState({file:e.base64}):(this.setState({show:!0,titlealert:"Image Size Failed",textalert:"Image Size 200px X 200px"}),z()("input[type='file']").val(""))}.bind(this),0)}else this.setState({show:!0,titlealert:"Image Type Failed",textalert:"Image Type Must .Jpg"})}},{key:"render",value:function(){var e=this,t=this.state.id;return r.a.createElement("div",null,r.a.createElement(T.a,{show:this.state.show,title:this.state.titlealert,text:this.state.textalert,onConfirm:function(){return e.setState({show:!1,titlealert:"",textalert:""})}}),r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Category Color")),r.a.createElement("div",{className:"form-group row"},this.state.color.map(function(a,n){var o=t+"-"+a.split(" ").join("");return r.a.createElement("div",{className:"col-md-4 col-6 mb-3 ",key:n},r.a.createElement("div",{className:"border p-2 text-center"},r.a.createElement("form",{onSubmit:e.submitHandler(o),className:o},r.a.createElement("img",{src:"http://13.229.249.101/dashboard/api/web/uploads/category/color/"+o+".jpg",width:"120",className:"mb-2"}),r.a.createElement(S.a,{multiple:!1,onDone:e.getFiles.bind(e)}),r.a.createElement("small",null,"Image Size 200px X 200px"),r.a.createElement("p",null,r.a.createElement("strong",null,a)),r.a.createElement("button",{className:"btn btn-outline-info",type:"submit"}," Upload "))))})))))}}])&&R(a.prototype,n),o&&R(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Q(e.prototype,t&&t.prototype),t&&Q(e,t)}(t,e),t}(n.Component),K=a(1222);a(1221);function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $(e){return($=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var te=function(e){function t(e){var a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=$(t).call(this,e),(a=!r||"object"!==V(r)&&"function"!==typeof r?ee(n):r).categoryHandle=function(){var e=a.props.match.params.id,t=c.reactLocalStorage.get("auth"),n="Bearer ".concat(t);l.a.get("http://13.229.249.101/dashboard/api/category/view/"+e,{headers:{Authorization:n}}).then(function(e){var t=e.data;a.setState({brand:t.brandId,group:t.groupQty,name:t.name,description:t.description,color:t.color,cartoon:t.cartoon,pack:t.pack,mill:t.mill,class:t.class,descriptionweb:t.descriptionWeb,tagweb:t.tagWeb,priceweb:t.priceWeb,imageweb:t.imageWeb})}).catch(function(e){console.log("error "+e)})},a.handleChange=function(e){var t,n,r;a.setState((t={},n=e.target.name,r=e.target.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},a.submitHandler=function(e){var t={id:a.state.categoryid,brandId:a.state.brand,groupQty:a.state.group,name:a.state.name,description:a.state.description,color:a.state.color,cartoon:a.state.cartoon,pack:a.state.pack,mill:a.state.mill,class:a.state.class,descriptionWeb:a.state.descriptionweb,tagWeb:a.state.tagweb,priceWeb:a.state.priceweb},n=c.reactLocalStorage.get("auth"),r="Bearer ".concat(n);l.a.put("http://13.229.249.101/dashboard/api/category/edit",t,{headers:{Authorization:r}}).then(function(e){a.categoryHandle()}).catch(function(e){console.log(e)}),e.preventDefault()},a.handleEditorChange=function(e){a.setState({descriptionweb:e.target.getContent()})};var o=a.props.match.params.id;a.state={brand:"",brandlist:[],group:"",name:"",description:"",color:"",cartoon:"",pack:"",mill:"",class:"",descriptionweb:"",tagweb:"",priceweb:"",categoryid:o,imageweb:[]},Object(K.loadProgressBar)(),a.categoryHandle=a.categoryHandle.bind(ee(ee(a))),a.categoryHandle();var i=c.reactLocalStorage.get("auth"),s="Bearer ".concat(i);return l.a.get("http://13.229.249.101/dashboard/api/brand/view",{headers:{Authorization:s}}).then(function(e){var t=e.data;a.setState({brandlist:t})}).catch(function(e){console.log("error "+e)}),a}var a,n,o;return a=t,(n=[{key:"componentDidUpdate",value:function(e){if(e.match.params.id!==this.props.match.params.id){this.categoryHandle();var t=this.props.match.params.id;this.setState({categoryid:t})}}},{key:"render",value:function(){var e=this.props.classes,t=this.state.brandlist.map(function(e,t){return r.a.createElement(b.a,{key:t,value:e.id},e.name)}),a=this.state.categoryid;return r.a.createElement("article",{className:"article"},r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Edit Category")),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Brand Name"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(w.a,{className:e.formControl},r.a.createElement(v.a,{htmlFor:"brand-simple"},"Select Brand"),r.a.createElement(h.a,{value:this.state.brand,onChange:this.handleChange,inputProps:{name:"brand",id:"brand-simple"},className:e.selectEmpty},r.a.createElement(b.a,{value:""},r.a.createElement("em",null,"None")),t)))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Group"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(w.a,{className:e.formControl},r.a.createElement(v.a,{htmlFor:"group-simple"},"Select Group"),r.a.createElement(h.a,{value:this.state.group,onChange:this.handleChange,inputProps:{name:"group",id:"group-simple"},className:e.selectEmpty},r.a.createElement(b.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(b.a,{value:1},"1 - T-Shirt"),r.a.createElement(b.a,{value:2},"2 - Sweatshirt"),r.a.createElement(b.a,{value:3},"3 - No Quantity"),r.a.createElement(b.a,{value:4},"4 - Caps"),r.a.createElement(b.a,{value:5},"5 - Heat Transfer"))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Category Name"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"name"},onChange:this.handleChange,value:this.state.name,placeholder:"Category Name",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Description"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"description"},onChange:this.handleChange,value:this.state.description,placeholder:"Description",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Color"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"color"},onChange:this.handleChange,value:this.state.color,placeholder:"Color",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Cartoon"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"cartoon"},onChange:this.handleChange,value:this.state.cartoon,placeholder:"Cartoon",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Pack"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"pack"},onChange:this.handleChange,value:this.state.pack,placeholder:"Pack",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Mill"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"mill"},onChange:this.handleChange,value:this.state.mill,placeholder:"Mill",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Class"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"class"},onChange:this.handleChange,value:this.state.class,placeholder:"Class",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Description Website"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(i.a,{apiKey:"qlhpachlruoxvvisjzvdcdh0ez0dtofxb2vpal22bqpij1at",initialValue:this.state.descriptionweb,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code"},onChange:this.handleEditorChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Tag Website"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"tagweb"},onChange:this.handleChange,value:this.state.tagweb,placeholder:"Tag Website",id:"inputName2",multiline:!0,fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Price Website"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(d.a,{inputProps:{name:"priceweb"},onChange:this.handleChange,value:this.state.priceweb,placeholder:"Price Web",id:"inputName2",multiline:!0,fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(u.a,{variant:"contained",className:"btn-w-md",type:"submit"}," Submit ")))))),r.a.createElement(J,{idcategory:a}),r.a.createElement(G,{idcategory:a}))}}])&&Z(a.prototype,n),o&&Z(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Y(e.prototype,t&&t.prototype),t&&Y(e,t)}(t,e),t}(n.Component),ae=Object(s.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:150},selectEmpty:{marginTop:0*e.spacing.unit}}})(te);t.default=ae}}]);
//# sourceMappingURL=13.109f2712.chunk.js.map