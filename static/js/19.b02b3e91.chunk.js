(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1228:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(302),o=a.n(l),r=a(292),s=a(83),c=a(15),m=a(9),p=a.n(m),u=a(71),d=a.n(u),h=a(1204),f=a.n(h),b=a(1202),g=a.n(b),y=a(216),v=a.n(y),E=a(75),w=a.n(E);function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e){return(x=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var T=function(e){function t(e){var a,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,i=x(t).call(this,e),(a=!i||"object"!==S(i)&&"function"!==typeof i?C(n):i).handleChange=function(e){var t,n,i;a.setState((t={},n=e.target.name,i=e.target.value,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))},a.handleEditorChange=function(e){a.setState({descriptionweb:e.target.getContent()})},a.slideHandle=function(){var e=a.props.match.params.id,t=s.reactLocalStorage.get("auth"),n="Bearer ".concat(t);o.a.get("http://13.229.249.101/dashboard/api/slide/view/"+e,{headers:{Authorization:n}}).then(function(e){var t=e.data;a.setState({link:t.link,position:t.position})}).catch(function(e){console.log("error "+e)})},a.submitHandler=function(e){var t={file:a.state.file,placement:a.state.placement,link:a.state.link,position:a.state.position,id:a.state.id},n=s.reactLocalStorage.get("auth"),i="Bearer ".concat(n);o.a.put("http://13.229.249.101/dashboard/api/slide/edit",t,{headers:{Authorization:i}}).then(function(e){a.slideHandle()}).catch(function(e){console.log(e)}),e.preventDefault()},a.state={placement:"Top Slide",link:"",file:"",show:!1,position:"",id:a.props.match.params.id},a.slideHandle=a.slideHandle.bind(C(C(a))),a.slideHandle(),a}var a,n,l;return a=t,(n=[{key:"componentDidUpdate",value:function(e){if(e.match.params.id!==this.props.match.params.id){this.slideHandle();var t=this.props.match.params.id;this.setState({id:t})}}},{key:"getFiles",value:function(e){if("image/jpeg"===e.type){var t=e.base64,a=document.createElement("img");a.setAttribute("src",t),setTimeout(function(){785===a.height&&1600===a.width?this.setState({file:e.base64}):(this.setState({show:!0,titlealert:"Image Size Failed",textalert:"Image Size 1600px X 785px"}),w()("input[type='file']").val(""))}.bind(this),0)}else this.setState({show:!0,titlealert:"Image Type Failed",textalert:"Image Type Must .Jpg"})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.placement,l=a.id,o=n.replace(" ","")+"-"+l+".jpg";return!1===s.reactLocalStorage.get("role").includes("slide_edit")?i.a.createElement(r.a,{to:"/admin"}):i.a.createElement("article",{className:"article"},i.a.createElement(g.a,{show:this.state.show,title:this.state.titlealert,text:this.state.textalert,onConfirm:function(){return e.setState({show:!1,titlealert:"",textalert:""})}}),i.a.createElement("div",{className:"box-default m-3"},i.a.createElement("div",{className:"box-body py-5"},i.a.createElement("div",{className:"form-group"},i.a.createElement("h6",null,"Edit Slide Top")),i.a.createElement("form",{onSubmit:this.submitHandler},i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Slide Top Image"),i.a.createElement("div",{className:"col-md-10"},i.a.createElement("img",{src:"http://13.229.249.101/dashboard/api/web/uploads/slide/"+o,width:"150",alt:""}),i.a.createElement("br",null),i.a.createElement(f.a,{multiple:!1,onDone:this.getFiles.bind(this),className:"w-100"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Link"),i.a.createElement("div",{className:"col-md-10"},i.a.createElement(d.a,{inputProps:{name:"link"},onChange:this.handleChange,value:this.state.link,placeholder:"Link Slide Top",multiline:!0,id:"inputName2",fullWidth:!0,className:"mt-0"}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Position"),i.a.createElement("div",{className:"col-md-10"},i.a.createElement(v.a,{id:"standard-number",value:this.state.position,onChange:this.handleChange,type:"number",inputProps:{name:"position"},margin:"normal",className:t.selectEmpty}))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-md-2"}),i.a.createElement("div",{className:"col-md-10"},i.a.createElement(p.a,{variant:"contained",className:"btn-w-md",type:"submit"}," Submit ")))))))}}])&&k(a.prototype,n),l&&k(a,l),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");N(e.prototype,t&&t.prototype),t&&N(e,t)}(t,e),t}(n.Component),_=Object(c.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:150},selectEmpty:{marginTop:0*e.spacing.unit}}})(T);t.default=_}}]);
//# sourceMappingURL=19.b02b3e91.chunk.js.map