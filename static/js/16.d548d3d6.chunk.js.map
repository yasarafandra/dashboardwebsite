{"version":3,"sources":["routes/admin/routes/slide/slidebottomedit/components/SlideBottomEdit.js","routes/admin/routes/slide/slidebottomedit/index.js"],"names":["SlideBottomEdit_SlideBottomEdit","SlideBottomEdit","props","_this","_classCallCheck","this","_getPrototypeOf","call","handleChange","event","setState","target","name","value","handleEditorChange","e","descriptionweb","getContent","slideHandle","id","match","params","token","react_localstorage","get","AuthStr","concat","axios_default","a","headers","Authorization","then","response","datas","data","link","position","catch","error","console","log","submitHandler","payload","file","state","placement","put","preventDefault","show","bind","_assertThisInitialized","prevProps","files","type","image","base64","img","document","createElement","setAttribute","setTimeout","height","width","jquery_default","attr","titlealert","textalert","val","_this2","classes","_this$state","replace","includes","react_default","Redirect","to","className","sweetalert_react_min_default","title","text","onConfirm","onSubmit","htmlFor","src","alt","build_min_default","multiple","onDone","getFiles","Input_default","inputProps","onChange","placeholder","multiline","fullWidth","TextField_default","margin","selectEmpty","Button_default","variant","react","components_SlideBottomEdit","Object","styles","theme","root","display","flexWrap","formControl","spacing","unit","minWidth","marginTop","__webpack_exports__"],"mappings":"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","file":"static/js/16.d548d3d6.chunk.js","sourcesContent":["import React,{Component} from 'react';\r\nimport axios from 'axios';\r\nimport {Redirect} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport {reactLocalStorage} from 'reactjs-localstorage';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\nimport FileBase64 from 'react-file-base64';\r\nimport SweetAlert from 'sweetalert2-react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport $ from 'jquery';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n      margin: theme.spacing.unit,\r\n      minWidth: 150,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing.unit * 0,\r\n    },\r\n  });\r\nclass SlideBottomEdit extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            placement : \"Bottom Slide\",\r\n            link : \"\",\r\n            file : \"\",\r\n            show : false,\r\n            position : \"\",\r\n            id : this.props.match.params.id\r\n        }\r\n        this.slideHandle = this.slideHandle.bind(this);\r\n        this.slideHandle();\r\n    }\r\n    \r\n    handleChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    handleEditorChange = (e) => {\r\n        this.setState({\r\n            descriptionweb : e.target.getContent()\r\n        }) \r\n    }\r\n\r\n    slideHandle = () => {\r\n        let id = this.props.match.params.id;\r\n        let token = reactLocalStorage.get('auth');\r\n        let AuthStr = \"Bearer \".concat(token);\r\n        axios.get('http://13.229.249.101/dashboard/api/slide/view/'+id, { headers: { Authorization: AuthStr } })\r\n        .then(response => {\r\n            const datas = response.data;\r\n            this.setState({\r\n                link : datas.link,\r\n                position : datas.position\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.log('error ' + error);\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.match.params.id !== this.props.match.params.id){\r\n             this.slideHandle();\r\n             let id = this.props.match.params.id;\r\n             this.setState({\r\n                 id : id\r\n             });\r\n             \r\n        }\r\n     }\r\n\r\n    submitHandler = (event) => {\r\n        const payload = {\r\n            \"file\" : this.state.file,\r\n            \"placement\": this.state.placement,\r\n            \"link\": this.state.link,\r\n            \"position\" : this.state.position,\r\n            \"id\" : this.state.id\r\n        }\r\n        let token= reactLocalStorage.get('auth');\r\n        const AuthStr = \"Bearer \".concat(token); \r\n        axios.put('http://13.229.249.101/dashboard/api/slide/edit', payload, { headers: { Authorization: AuthStr } })\r\n        .then((response) => {\r\n            this.slideHandle();\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });  \r\n        event.preventDefault();    \r\n    }\r\n\r\n    getFiles(files){\r\n        if(files.type === \"image/jpeg\"){\r\n            var image = files.base64;\r\n            var img = document.createElement(\"img\");\r\n            img.setAttribute(\"src\", image);\r\n            setTimeout(\r\n                function() {\r\n                    if(img.height === 222 && img.width === 370){\r\n                        this.setState({ \"file\" :  files.base64 });\r\n                        $('img').attr('src', files.base64);\r\n                    }\r\n                    else{\r\n                        this.setState({\r\n                            show: true, \r\n                            titlealert: \"Image Size Failed\", \r\n                            textalert : \"Image Size 370px X 222px\"\r\n                        })\r\n                        $(\"input[type='file']\").val(\"\");\r\n                    }\r\n                }\r\n                .bind(this),\r\n                0\r\n            );\r\n        }\r\n        else{\r\n            this.setState({\r\n                show: true, \r\n                titlealert: \"Image Type Failed\", \r\n                textalert : \"Image Type Must .Jpg\"\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        const { placement, id } = this.state;\r\n        const image = placement.replace(\" \",\"\")+'-'+id+\".jpg\";\r\n        let page = \"slide_edit\";\r\n        let role = reactLocalStorage.get('role');\r\n        let edit = role.includes(page);\r\n\r\n        return(\r\n            edit === false ?<Redirect to=\"/admin\" /> :\r\n            <article className=\"article\">\r\n            <SweetAlert\r\n                show = {this.state.show}\r\n                title = {this.state.titlealert}\r\n                text = {this.state.textalert}\r\n                onConfirm={() => \r\n                    this.setState({ show: false, titlealert: \"\", textalert : \"\" })\r\n                }\r\n            />\r\n                <div className=\"box-default m-3\">\r\n                <div className=\"box-body py-5\">\r\n                    <div className=\"form-group\">\r\n                        <h6>Edit Slide Bottom</h6>\r\n                    </div>\r\n                    <form  onSubmit={this.submitHandler}>\r\n                    \r\n                    <div className=\"form-group row\">\r\n                        \r\n                        <label htmlFor=\"inputName2\" className=\"col-md-2 col-form-label\">Slide Bottom Image</label>\r\n                        <div className=\"col-md-10\">\r\n                        <img src={\"http://13.229.249.101/dashboard/api/web/uploads/slide/\"+image} alt=\"\" width=\"150\"></img><br/>\r\n                            <FileBase64\r\n                            multiple={ false }\r\n                            onDone={ this.getFiles.bind(this) }\r\n                            className=\"w-100\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label htmlFor=\"inputName2\" className=\"col-md-2 col-form-label\">Link</label>\r\n                        <div className=\"col-md-10\">\r\n                        <Input\r\n                            inputProps={{name: 'link'}}\r\n                            onChange={this.handleChange}\r\n                            value={this.state.link}\r\n                            placeholder=\"Link Slide Bottom\"\r\n                            multiline\r\n                            id=\"inputName2\"\r\n                            fullWidth\r\n                            className=\"mt-0\"\r\n                        />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label htmlFor=\"inputName2\" className=\"col-md-2 col-form-label\">Position</label>\r\n                        <div className=\"col-md-10\">\r\n                        <TextField\r\n                            id=\"standard-number\"\r\n                            value={this.state.position}\r\n                            onChange={this.handleChange}\r\n                            type=\"number\"\r\n                            inputProps={{name: 'position'}}\r\n                            margin=\"normal\"\r\n                            className={classes.selectEmpty}\r\n                        />\r\n                        </div>\r\n                    </div>\r\n                    \r\n\r\n                    <div className=\"form-group row\">\r\n                        <div className=\"col-md-2\"></div>\r\n                        <div className=\"col-md-10\">\r\n                        <Button variant=\"contained\" className=\"btn-w-md\" type=\"submit\"> Submit </Button>\r\n                        </div>\r\n                    </div>\r\n                    </form>\r\n\r\n                </div>\r\n                </div>\r\n            </article>\r\n        )\r\n    }\r\n}\r\nSlideBottomEdit.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n  };\r\nexport default  withStyles(styles)(SlideBottomEdit);","import SlideBottomEdit from './components/SlideBottomEdit';\r\n\r\nexport default SlideBottomEdit;\r\n"],"sourceRoot":""}