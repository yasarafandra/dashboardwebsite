(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1227:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(292),l=a(302),i=a.n(l),c=a(1205),s=a(127),m=a(15),u=a(9),p=a.n(u),d=a(71),f=a.n(d),h=a(426),g=a.n(h),b=a(78),y=a.n(b),v=a(289),E=a.n(v),w=a(101),N=a.n(w),S=a(1206),C=a.n(S),x=a(1221),k=a(1220),_=a.n(k);function j(e){return(j="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.getPrototypeOf||function(e){return e.__proto__})(e)}var F=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=W(this,H(t).call(this,e))).onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex;a.setState(function(e){var a=e.images;return{images:_()(a,t,n)}},function(){var e={fileUpdate:a.state.images,id:a.state.id},t=s.reactLocalStorage.get("auth"),n="Bearer ".concat(t);i.a.put("http://13.229.249.101/dashboard/api/category/upload/edit",e,{headers:{Authorization:n}}).then(function(e){}).catch(function(e){console.log(e)})})},a.remove=function(e){var t=a.state.images;t.splice(e,1),a.setState({images:t},function(){var e={fileUpdate:a.state.images,id:a.state.id},t=s.reactLocalStorage.get("auth"),n="Bearer ".concat(t);i.a.put("http://13.229.249.101/dashboard/api/category/upload/edit",e,{headers:{Authorization:n}}).then(function(e){window.location.href="#/admin/categoryedit/"+a.state.id}).catch(function(e){console.log(e)})})},a.state={images:[],id:a.props.idcategory},a}var a,n,o;return a=t,(n=[{key:"componentDidUpdate",value:function(e){e.image!==this.props.image&&this.setState({images:this.props.image,id:this.props.idcategory})}},{key:"render",value:function(){var e=this,t=Object(x.SortableElement)(function(e){var t=e.value;return r.a.createElement("div",{className:"list-group-item"},r.a.createElement("img",{alt:"",src:"http://13.229.249.101/dashboard/api/web/uploads/category/"+t,className:"w-100"})," ")}),a=Object(x.SortableContainer)(function(a){var n=a.images;return r.a.createElement("div",{className:"row"},n.map(function(a,n){return r.a.createElement("div",{key:"item-".concat(n),className:"col-md-2 col-4 p-2"},r.a.createElement(t,{index:n,value:a}),r.a.createElement("a",{href:"javascript:void(0)",className:"float-right position-absolute mt-0 close-btn",onClick:function(){return e.remove(n)}},r.a.createElement("i",{className:"nav-icon material-icons"},"close")))}))});return r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Image Category")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(a,{images:this.state.images,onSortEnd:this.onSortEnd,axis:"xy"})))))}}])&&O(a.prototype,n),o&&O(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");P(e.prototype,t&&t.prototype),t&&P(e,t)}(t,e),t}(n.Component),T=a(1201),I=a.n(T),z=a(75),D=a.n(z);function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L(e){return(L=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=L(t).call(this,e),(a=!r||"object"!==B(r)&&"function"!==typeof r?J(n):r).submitHandler=function(e){if(""!=a.state.files&&void 0!=a.state.files&&null!=a.state.files){var t={file:a.state.files,id:a.state.id},n=s.reactLocalStorage.get("auth"),r="Bearer ".concat(n);i.a.post("http://13.229.249.101/dashboard/api/category/upload/new",t,{headers:{Authorization:r}}).then(function(e){"OK"===e.statusText&&a.categoryHandle()}).catch(function(e){console.log(e)})}e.preventDefault()},a.categoryHandle=function(){var e=a.props.idcategory,t=s.reactLocalStorage.get("auth"),n="Bearer ".concat(t);i.a.get("http://13.229.249.101/dashboard/api/category/view/"+e,{headers:{Authorization:n}}).then(function(e){var t=e.data;a.setState({brand:t.brandId,group:t.groupQty,name:t.name,description:t.description,color:t.color,cartoon:t.cartoon,pack:t.pack,mill:t.mill,class:t.class,descriptionweb:t.descriptionWeb,tagweb:t.tagWeb,priceweb:t.priceWeb,imageweb:t.imageWeb})}).catch(function(e){console.log("error "+e)})},a.state={files:"",id:a.props.idcategory,categoryid:a.props.idcategory,imageweb:[],textalert:"",titlealert:"",show:!1},a.categoryHandle=a.categoryHandle.bind(J(J(a))),a.categoryHandle(),a}var a,n,o;return a=t,(n=[{key:"getFiles",value:function(e){if(console.log(e),"image/jpeg"==e.type){var t=e.base64,a=document.createElement("img");a.setAttribute("src",t),setTimeout(function(){250==a.height&&250==a.width?this.setState({files:e.base64}):(this.setState({show:!0,titlealert:"Image Size Failed",textalert:"Image Size 250px X 250px"}),D()("input[type='file']").val(""))}.bind(this),0)}else this.setState({show:!0,titlealert:"Image Type Failed",textalert:"Image Type Must .Jpg"})}},{key:"componentDidUpdate",value:function(e){e.idcategory!==this.props.idcategory&&(this.setState({id:this.props.idcategory}),this.categoryHandle())}},{key:"render",value:function(){var e=this,t=this.state.categoryid,a=this.state.imageweb;return r.a.createElement("div",null,r.a.createElement(I.a,{show:this.state.show,title:this.state.titlealert,text:this.state.textalert,onConfirm:function(){return e.setState({show:!1,titlealert:"",textalert:""})}}),r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Upload Image Category")),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Upload Image"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(C.a,{multiple:!1,onDone:this.getFiles.bind(this)}),r.a.createElement("br",null),r.a.createElement("small",null,"Image Size 200px X 200px"))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(p.a,{variant:"contained",className:"btn-w-md",type:"submit"}," Upload ")))))),r.a.createElement(F,{idcategory:t,image:a}))}}])&&U(a.prototype,n),o&&U(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");A(e.prototype,t&&t.prototype),t&&A(e,t)}(t,e),t}(n.Component);a(1231);function Q(e){return(Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function q(e){return(q=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var K=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=q(t).call(this,e),(a=!r||"object"!==Q(r)&&"function"!==typeof r?G(n):r).loadHandler=function(){i.a.get("http://13.229.249.101/dashboard/api/userapi/product/view/webnew/category/"+a.props.idcategory,{headers:{"Content-Type":"application/json"}}).then(function(e){var t=[],n=e.data;Object.keys(n).map(function(e){t.push(e)}),a.setState({color:t})})},a.submitHandler=function(e){return function(t){if(""!=a.state.file&&void 0!=a.state.file&&null!=a.state.file){var n={file:a.state.file,warna:e},r=s.reactLocalStorage.get("auth"),o="Bearer ".concat(r);i.a.post("http://13.229.249.101/dashboard/api/category/upload/color/new",n,{headers:{Authorization:o}}).then(function(t){200==t.status&&(a.loadHandler(),console.log(e),D()("."+e).find("img").attr("src",a.state.file))}).catch(function(e){console.log(e)})}t.preventDefault()}},a.state={id:a.props.idcategory,color:[],file:[]},a.loadHandler=a.loadHandler.bind(G(G(a))),a.loadHandler(),a}var a,n,o;return a=t,(n=[{key:"componentDidUpdate",value:function(e){e.idcategory===this.props.idcategory&&void 0!==e.idcategory||(this.setState({id:this.props.idcategory}),this.loadHandler())}},{key:"getFiles",value:function(e){if("image/jpeg"==e.type){var t=e.base64,a=document.createElement("img");a.setAttribute("src",t),setTimeout(function(){200==a.height&&200==a.width?this.setState({file:e.base64}):(this.setState({show:!0,titlealert:"Image Size Failed",textalert:"Image Size 200px X 200px"}),D()("input[type='file']").val(""))}.bind(this),0)}else this.setState({show:!0,titlealert:"Image Type Failed",textalert:"Image Type Must .Jpg"})}},{key:"render",value:function(){var e=this,t=this.state.id;return r.a.createElement("div",null,r.a.createElement(I.a,{show:this.state.show,title:this.state.titlealert,text:this.state.textalert,onConfirm:function(){return e.setState({show:!1,titlealert:"",textalert:""})}}),r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Category Color")),r.a.createElement("div",{className:"form-group mx-0 row"},this.state.color.map(function(a,n){var o=t+"-"+a.split(" ").join("");return r.a.createElement("div",{className:"col-md-2 p-2 mb-3 ",key:n},r.a.createElement("div",{className:"border p-2 text-center"},r.a.createElement("form",{onSubmit:e.submitHandler(o),className:o},r.a.createElement("img",{src:"http://13.229.249.101/dashboard/api/web/uploads/category/color/"+o+".jpg",className:"mb-2 w-100"}),r.a.createElement(C.a,{multiple:!1,onDone:e.getFiles.bind(e),className:"w-100"}),r.a.createElement("p",null,r.a.createElement("strong",null,a)),r.a.createElement("button",{className:"btn btn-outline-info mt-2",type:"submit"}," Upload "))))})))))}}])&&X(a.prototype,n),o&&X(a,o),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");R(e.prototype,t&&t.prototype),t&&R(e,t)}(t,e),t}(n.Component),V=a(1219);a(1218);function Y(e){return(Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e){return(ee=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ae=function(e){function t(e){var a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=ee(t).call(this,e),(a=!r||"object"!==Y(r)&&"function"!==typeof r?te(n):r).categoryHandle=function(){var e=a.props.match.params.id,t=s.reactLocalStorage.get("auth"),n="Bearer ".concat(t);i.a.get("http://13.229.249.101/dashboard/api/category/view/"+e,{headers:{Authorization:n}}).then(function(e){var t=e.data;a.setState({brand:t.brandId,group:t.groupQty,name:t.name,description:t.description,color:t.color,cartoon:t.cartoon,pack:t.pack,mill:t.mill,class:t.class,descriptionweb:t.descriptionWeb,tagweb:t.tagWeb,priceweb:t.priceWeb,imageweb:t.imageWeb})}).catch(function(e){console.log("error "+e)})},a.handleChange=function(e){var t,n,r;a.setState((t={},n=e.target.name,r=e.target.value,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},a.submitHandler=function(e){var t={id:a.state.categoryid,brandId:a.state.brand,groupQty:a.state.group,name:a.state.name,description:a.state.description,color:a.state.color,cartoon:a.state.cartoon,pack:a.state.pack,mill:a.state.mill,class:a.state.class,descriptionWeb:a.state.descriptionweb,tagWeb:a.state.tagweb,priceWeb:a.state.priceweb},n=s.reactLocalStorage.get("auth"),r="Bearer ".concat(n);i.a.put("http://13.229.249.101/dashboard/api/category/edit",t,{headers:{Authorization:r}}).then(function(e){a.categoryHandle()}).catch(function(e){console.log(e)}),e.preventDefault()},a.handleEditorChange=function(e){a.setState({descriptionweb:e.target.getContent()})};var o=a.props.match.params.id;a.state={brand:"",brandlist:[],group:"",name:"",description:"",color:"",cartoon:"",pack:"",mill:"",class:"",descriptionweb:"",tagweb:"",priceweb:"",categoryid:o,imageweb:[]},Object(V.loadProgressBar)(),a.categoryHandle=a.categoryHandle.bind(te(te(a))),a.categoryHandle();var l=s.reactLocalStorage.get("auth"),c="Bearer ".concat(l);return i.a.get("http://13.229.249.101/dashboard/api/brand/view",{headers:{Authorization:c}}).then(function(e){var t=e.data;a.setState({brandlist:t})}).catch(function(e){console.log("error "+e)}),a}var a,n,l;return a=t,(n=[{key:"componentDidUpdate",value:function(e){if(e.match.params.id!==this.props.match.params.id){this.categoryHandle();var t=this.props.match.params.id;this.setState({categoryid:t})}}},{key:"render",value:function(){var e=this.props.classes,t=this.state.brandlist.map(function(e,t){return r.a.createElement(y.a,{key:t,value:e.id},e.name)}),a=this.state.categoryid;return!1===s.reactLocalStorage.get("role").includes("category_edit")?r.a.createElement(o.a,{to:"/admin"}):r.a.createElement("article",{className:"article"},r.a.createElement("div",{className:"box-default m-3"},r.a.createElement("div",{className:"box-body py-5"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h6",null,"Edit Category")),r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Brand Name"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(N.a,{className:e.formControl},r.a.createElement(E.a,{htmlFor:"brand-simple"},"Select Brand"),r.a.createElement(g.a,{value:this.state.brand,onChange:this.handleChange,inputProps:{name:"brand",id:"brand-simple"},className:e.selectEmpty},r.a.createElement(y.a,{value:""},r.a.createElement("em",null,"None")),t)))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Group"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(N.a,{className:e.formControl},r.a.createElement(E.a,{htmlFor:"group-simple"},"Select Group"),r.a.createElement(g.a,{value:this.state.group,onChange:this.handleChange,inputProps:{name:"group",id:"group-simple"},className:e.selectEmpty},r.a.createElement(y.a,{value:""},r.a.createElement("em",null,"None")),r.a.createElement(y.a,{value:1},"1 - T-Shirt"),r.a.createElement(y.a,{value:2},"2 - Sweatshirt"),r.a.createElement(y.a,{value:3},"3 - No Quantity"),r.a.createElement(y.a,{value:4},"4 - Caps"),r.a.createElement(y.a,{value:5},"5 - Heat Transfer"))))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Category Name"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"name"},onChange:this.handleChange,value:this.state.name,placeholder:"Category Name",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Description"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"description"},onChange:this.handleChange,value:this.state.description,placeholder:"Description",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Color"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"color"},onChange:this.handleChange,value:this.state.color,placeholder:"Color",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Cartoon"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"cartoon"},onChange:this.handleChange,value:this.state.cartoon,placeholder:"Cartoon",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Pack"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"pack"},onChange:this.handleChange,value:this.state.pack,placeholder:"Pack",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Mill"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"mill"},onChange:this.handleChange,value:this.state.mill,placeholder:"Mill",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Class"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"class"},onChange:this.handleChange,value:this.state.class,placeholder:"Class",id:"inputName2",fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Description Website"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(c.a,{apiKey:"qlhpachlruoxvvisjzvdcdh0ez0dtofxb2vpal22bqpij1at",initialValue:this.state.descriptionweb,init:{plugins:"link image code",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | code",height:400},onChange:this.handleEditorChange}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Tag Website"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"tagweb"},onChange:this.handleChange,value:this.state.tagweb,placeholder:"Tag Website",id:"inputName2",multiline:!0,fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{htmlFor:"inputName2",className:"col-md-2 col-form-label"},"Price Website"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(f.a,{inputProps:{name:"priceweb"},onChange:this.handleChange,value:this.state.priceweb,placeholder:"Price Web",id:"inputName2",multiline:!0,fullWidth:!0}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-10"},r.a.createElement(p.a,{variant:"contained",className:"btn-w-md",type:"submit"}," Submit ")))))),r.a.createElement(M,{idcategory:a}),r.a.createElement(K,{idcategory:a}))}}])&&$(a.prototype,n),l&&$(a,l),function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Z(e.prototype,t&&t.prototype),t&&Z(e,t)}(t,e),t}(n.Component),ne=Object(m.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:150},selectEmpty:{marginTop:0*e.spacing.unit}}})(ae);t.default=ne},1231:function(e,t,a){}}]);
//# sourceMappingURL=13.bd45dc7a.chunk.js.map