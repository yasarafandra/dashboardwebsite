{"version":3,"sources":["routes/admin/routes/product/brandedit/components/BrandEdit.js","routes/admin/routes/product/brandedit/index.js"],"names":["BrandEdit_BrandEdit","BrandEdit","props","_this","_classCallCheck","this","_getPrototypeOf","call","brandHandle","id","match","params","token","react_localstorage","get","AuthStr","concat","axios_default","a","headers","Authorization","then","response","datas","data","showOnWeb","aktif","setState","name","checked","catch","error","console","log","handleChange","event","_defineProperty","target","value","handleChecked","submitHandler","state","show","payload","brandid","put","preventDefault","brdid","bind","_assertThisInitialized","prevProps","includes","react_default","createElement","Redirect","to","className","onSubmit","htmlFor","Input_default","inputProps","onChange","placeholder","fullWidth","Switch_default","color","Button_default","variant","type","react","components_BrandEdit","Object","styles","theme","root","display","flexWrap","formControl","margin","spacing","unit","minWidth","selectEmpty","marginTop","group","__webpack_exports__"],"mappings":"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","file":"static/js/13.eef4edeb.chunk.js","sourcesContent":["import React,{Component} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\nimport {reactLocalStorage} from 'reactjs-localstorage';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\nimport Switch from '@material-ui/core/Switch';\r\n \r\nconst styles = theme => ({\r\n    root: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n    },\r\n    formControl: {\r\n      margin: theme.spacing.unit,\r\n      minWidth: 150,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing.unit * 0,\r\n    },\r\n    group: {\r\n        margin: `${theme.spacing.unit}px 0`,\r\n        marginTop: '0px'\r\n      },\r\n  });\r\nclass BrandEdit extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        let brdid = this.props.match.params.id;\r\n        this.state = {\r\n            name : \"\",\r\n            brandid : brdid,\r\n            showOnWeb : \"Y\",\r\n            checked : true\r\n        }\r\n        \r\n        this.brandHandle = this.brandHandle.bind(this);\r\n        this.brandHandle();\r\n    }\r\n\r\n    brandHandle = () => {\r\n        let id = this.props.match.params.id;\r\n        let token= reactLocalStorage.get('auth');\r\n        let AuthStr = \"Bearer \".concat(token);\r\n        axios.get('http://13.229.249.101/dashboard/api/brand/view/'+id, { headers: { Authorization: AuthStr } })\r\n        .then(response => {\r\n            const datas = response.data;\r\n            if(datas.showOnWeb === 'Y'){\r\n                var aktif = true;\r\n            }\r\n            else{\r\n                var aktif = false;\r\n            }\r\n            this.setState({\r\n                name : datas.name,\r\n                showOnWeb : datas.showOnWeb,\r\n                checked : aktif\r\n            })\r\n        })\r\n        .catch((error) => {\r\n            console.log('error ' + error);\r\n        });\r\n    }\r\n    \r\n    handleChange = event => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    handleChecked = name => event => {\r\n        this.setState({ [name]: event.target.checked });\r\n    };\r\n\r\n    submitHandler = (event) => {\r\n        if(this.state.checked === true){\r\n            var show = 'Y';\r\n        }\r\n        else{\r\n            var show = 'N';\r\n        }\r\n        const payload = {\r\n            \"id\" : this.state.brandid,\r\n            \"name\" : this.state.name,\r\n            \"showOnWeb\" : show\r\n        }\r\n        let token= reactLocalStorage.get('auth');\r\n        const AuthStr = \"Bearer \".concat(token); \r\n        axios.put('http://13.229.249.101/dashboard/api/brand/edit', payload, { headers: { Authorization: AuthStr } })\r\n        .then((response) => {\r\n            this.brandHandle();\r\n        })\r\n        .catch((error) => {\r\n            console.log(error);\r\n        });  \r\n        event.preventDefault();     \r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n       if(prevProps.match.params.id !== this.props.match.params.id){\r\n            this.brandHandle(); \r\n       }\r\n    }\r\n\r\n\r\n    render(){\r\n        let page = \"brand_edit\";\r\n        let role = reactLocalStorage.get('role');\r\n        let edit = role.includes(page);\r\n\r\n        return(\r\n            edit === false ?<Redirect to=\"/admin\" /> :\r\n            <article className=\"article\">\r\n                <div className=\"box-default m-3\">\r\n                <div className=\"box-body py-5\">\r\n                    <div className=\"form-group\">\r\n                        <h6>Edit Brand</h6>\r\n                    </div>\r\n                    <form  onSubmit={this.submitHandler}>\r\n\r\n                    <div className=\"form-group row\">\r\n                        <label htmlFor=\"inputName2\" className=\"col-md-2 col-form-label\">Brand Name</label>\r\n                        <div className=\"col-md-10\">\r\n                        <Input\r\n                            inputProps={{name: 'name'}}\r\n                            onChange={this.handleChange}\r\n                            value={this.state.name}\r\n                            placeholder=\"Brand Name\"\r\n                            id=\"inputName2\"\r\n                            fullWidth\r\n                        />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"form-group row\">\r\n                        <label htmlFor=\"inputName2\" className=\"col-md-2 col-form-label\">Show On Web</label>\r\n                        <div className=\"col-md-10\">        \r\n                            <Switch\r\n                            checked={this.state.checked}\r\n                            onChange={this.handleChecked('checked')}\r\n                            value={this.state.showOnWeb}\r\n                            color=\"primary\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group row\">\r\n                        <div className=\"col-md-2\"></div>\r\n                        <div className=\"col-md-10\">\r\n                        <Button variant=\"contained\" className=\"btn-w-md\" type=\"submit\"> Submit </Button>\r\n                        </div>\r\n                    </div>\r\n                    </form>\r\n\r\n                </div>\r\n                </div>\r\n\r\n            </article>\r\n        )\r\n    }\r\n}\r\nBrandEdit.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n  };\r\nexport default  withStyles(styles)(BrandEdit);","import BrandEdit from './components/BrandEdit';\r\n\r\nexport default BrandEdit;"],"sourceRoot":""}